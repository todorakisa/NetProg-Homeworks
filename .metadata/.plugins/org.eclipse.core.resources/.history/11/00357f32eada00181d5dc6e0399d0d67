package org.elsys.netprog.rest;

import org.json.simple.JSONObject;

public class BulsAndCows {
	private String Id;
	private String RealNumber;
	private boolean success = false;
	private int Cows = 0;
	private int Bulls = 0;
	private int turn  = 0;
	
	public BulsAndCows(String id,String realnumber){
		Id = id;
		RealNumber = realnumber;
	}
	
	public String getId(){
		return Id;
	}
	
	public void checkGame(String guess){
		turn++;
		if(guess.equals(RealNumber)) success = true;
		Bulls = 0;
		Cows = 0;
		
		for(int i = 0; i < RealNumber.length(); i++) {
			if(RealNumber.substring(i, i + 1).equals(guess.substring(i, i + 1))) Bulls++;
			else if(RealNumber.contains(guess.substring(i, i + 1))) Cows++;			
			if(Bulls == 4) {
				Cows = 0;
				success = true;
			}
		}
	}
	
	public JSONObject returnjobj() {
		JSONObject obj = new JSONObject();
		obj.put("gameId",Id);
		obj.put("cowsNumber", Cows);
		obj.put("bullsNumber", Bulls);
		obj.put("turnsCount",turn);
		obj.put("success", success );
		return obj;
	}

}
